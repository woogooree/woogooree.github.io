---
emoji: π“
title: Cμ–Έμ–΄ λ™μ  λ©”λ¨λ¦¬ κ΄€λ¦¬μ™€ ν•¨μ ν¬μΈν„°
date: '2024-06-02'
author: μ‹¬μ°μ§„
tags: Cμ–Έμ–΄ ν¬μΈν„° λ©”λ¨λ¦¬κ΄€λ¦¬ ν•¨μν¬μΈν„°
categories: Cμ–Έμ–΄κ³„μ—΄
---

## λ“¤μ–΄κ°€κΈ° μ „μ— ν™κ³Ό μ¤νƒλ¶€ν„° μ•κΈ°

ν™(Heap)κ³Ό μ¤νƒ(Stack)μ€ ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘μ— λ©”λ¨λ¦¬λ¥Ό κ΄€λ¦¬ν•λ” λ‘ κ°€μ§€ μ£Όμ” μμ—­μ΄λ‹¤. 
μ΄ λ‘ μμ—­μ€ λ©”λ¨λ¦¬ ν• λ‹Ήκ³Ό ν•΄μ , μ‚¬μ© λ°©μ‹μ—μ„ μ°¨μ΄κ°€ μλ‹¤.

### μ¤νƒ λ©”λ¨λ¦¬

#### νΉμ§•
- **κ³ μ • ν¬κΈ°**: μ¤νƒ λ©”λ¨λ¦¬λ” μΌλ°μ μΌλ΅ ν”„λ΅κ·Έλ¨μ΄ μ‹μ‘λ  λ• κ³ μ •λ ν¬κΈ°λ΅ ν• λ‹Ήλλ‹¤.
- **λΉ λ¥Έ ν• λ‹Ή λ° ν•΄μ **: λ©”λ¨λ¦¬ ν• λ‹Ήκ³Ό ν•΄μ λ” λ§¤μ° λΉ λ¥΄κ² μ΄λ£¨μ–΄μ§„λ‹¤. ν•¨μ νΈμ¶ μ‹ μ¤νƒ ν”„λ μ„μ΄ μƒμ„±λκ³  ν•¨μκ°€ μΆ…λ£λλ©΄ μλ™μΌλ΅ ν•΄μ λλ‹¤.
- **LIFO κµ¬μ΅°**: μ¤νƒμ€ Last In, First Out(LIFO) κµ¬μ΅°λ¥Ό λ”°λ¥Έλ‹¤. κ°€μ¥ μµκ·Όμ— ν• λ‹Ήλ λ©”λ¨λ¦¬κ°€ κ°€μ¥ λ¨Όμ € ν•΄μ λλ‹¤.

#### μ©λ„
- **μ§€μ—­ λ³€μ**: ν•¨μ λ‚΄μ—μ„ μ„ μ–Έλ λ³€μλ” μ¤νƒμ— μ €μ¥λλ‹¤.
- **ν•¨μ νΈμ¶ μ •λ³΄**: ν•¨μ νΈμ¶ μ‹ μ „λ‹¬λ μΈμ, λ³µκ·€ μ£Όμ†, κ·Έλ¦¬κ³  ν•¨μ μ‹¤ν–‰μ„ μ„ν• λ΅μ»¬ λ³€μκ°€ μ¤νƒμ— μ €μ¥λλ‹¤.

#### μμ 

```c
#include <stdio.h>

void foo() {
    int localVar = 10; // μ§€μ—­ λ³€μλ” μ¤νƒμ— μ €μ¥λ¨
    printf("μ§€μ—­ λ³€μ: %d\n", localVar);
}

int main() {
    foo(); // ν•¨μ νΈμ¶ μ‹ μ¤νƒ ν”„λ μ„ μƒμ„±
    return 0; // ν•¨μ μΆ…λ£ μ‹ μ¤νƒ ν”„λ μ„ ν•΄μ 
}
```

μ΄ μμ μ—μ„ `localVar`λ” ν•¨μ `foo`μ μ¤νƒμ— μ €μ¥λλ‹¤. `foo`κ°€ νΈμ¶λ  λ• μ¤νƒ ν”„λ μ„μ΄ μƒμ„±λκ³ , `foo`κ°€ μΆ…λ£λ  λ• μ¤νƒ ν”„λ μ„μ΄ ν•΄μ λλ‹¤.

### ν™ λ©”λ¨λ¦¬

#### νΉμ§•
- **λ™μ  ν¬κΈ°**: ν™ λ©”λ¨λ¦¬λ” λ°νƒ€μ„ μ‹ λ™μ μΌλ΅ ν• λ‹Ήλλ©°, ν•„μ”μ— λ”°λΌ ν¬κΈ°λ¥Ό μ΅°μ •ν•  μ μλ‹¤.
- **λλ¦° ν• λ‹Ή λ° ν•΄μ **: ν™ λ©”λ¨λ¦¬μ ν• λ‹Ήκ³Ό ν•΄μ λ” μ¤νƒμ— λΉ„ν•΄ λλ¦¬λ‹¤. ν• λ‹Ήλ λ©”λ¨λ¦¬λ” λ…μ‹μ μΌλ΅ ν•΄μ ν•΄μ•Ό ν•λ‹¤.
- **λΉ„κµ¬μ΅°μ **: ν™ λ©”λ¨λ¦¬λ” λΉ„κµ¬μ΅°μ μ΄λ©°, μ„μμ μμ„λ΅ ν• λ‹Ή λ° ν•΄μ λ  μ μλ‹¤.

#### μ©λ„
- **λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ή**: λ°νƒ€μ„ μ‹ ν¬κΈ°κ°€ κ²°μ •λλ” λ°μ΄ν„° κµ¬μ΅°(μ: λ°°μ—΄, λ§ν¬λ“ λ¦¬μ¤νΈ λ“±)λ” ν™μ— μ €μ¥λλ‹¤.
- **ν¬κΈ°κ°€ ν° λ°μ΄ν„°**: ν° λ°μ΄ν„°λ” μ¤νƒμ— μ €μ¥ν•κΈ° μ–΄λ µκΈ° λ•λ¬Έμ— ν™μ— μ €μ¥λλ‹¤.

#### μμ 

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int *arr;
    int n = 5;

    // ν™μ— μ •μν• λ°°μ—΄ λ™μ  ν• λ‹Ή
    arr = (int *)malloc(n * sizeof(int));

    if (arr == NULL) {
        printf("λ©”λ¨λ¦¬ ν• λ‹Ή μ‹¤ν¨\n");
        return 1;
    }

    // λ°°μ—΄ μ΄κΈ°ν™” λ° μ¶λ ¥
    for (int i = 0; i < n; i++) {
        arr[i] = i + 1;
        printf("%d ", arr[i]);
    }
    printf("\n");

    // ν™ λ©”λ¨λ¦¬ ν•΄μ 
    free(arr);

    return 0;
}
```

μ΄ μμ μ—μ„ `malloc` ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ ν™μ— μ •μν• λ°°μ—΄μ„ λ™μ  ν• λ‹Ήν•κ³ , `free` ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ ν• λ‹Ήλ λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•λ‹¤.

### λΉ„κµ

| νΉμ§• | μ¤νƒ(Stack) | ν™(Heap) |
|------|--------------|----------|
| λ©”λ¨λ¦¬ ν• λ‹Ή | μλ™ | μλ™ (`malloc`, `free`) |
| ν• λ‹Ή μ†λ„ | λΉ λ¦„ | λλ¦Ό |
| λ©”λ¨λ¦¬ ν¬κΈ° | κ³ μ • ν¬κΈ° | λ™μ  ν¬κΈ° |
| λ©”λ¨λ¦¬ κµ¬μ΅° | LIFO | λΉ„κµ¬μ΅°μ  |
| μ‚¬μ© μ©λ„ | μ§€μ—­ λ³€μ, ν•¨μ νΈμ¶ μ •λ³΄ | λ™μ  λ°μ΄ν„° κµ¬μ΅°, ν° λ°μ΄ν„° |

### μ”μ•½
- **μ¤νƒ**μ€ ν•¨μ νΈμ¶ μ‹ μλ™μΌλ΅ ν• λ‹Ήλκ³  ν•΄μ λλ” κ³ μ • ν¬κΈ° λ©”λ¨λ¦¬ μμ—­μ΄λ‹¤. μ£Όλ΅ μ§€μ—­ λ³€μμ™€ ν•¨μ νΈμ¶ μ •λ³΄λ¥Ό μ €μ¥ν•λ‹¤.
- **ν™**μ€ λ°νƒ€μ„ μ‹ λ™μ μΌλ΅ ν• λ‹Ήλκ³  λ…μ‹μ μΌλ΅ ν•΄μ λλ” λ©”λ¨λ¦¬ μμ—­μ΄λ‹¤. μ£Όλ΅ λ™μ  λ°μ΄ν„° κµ¬μ΅°μ™€ ν° λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ‹¤.


## λ™μ  λ©”λ¨λ¦¬ κ΄€λ¦¬ (Dynamic Memory Management)

### κ°μ”
λ™μ  λ©”λ¨λ¦¬λ¥Ό μ‚¬μ©ν•λ©΄ λ°νƒ€μ„ μ‹μ— ν•„μ”ν• λ§νΌμ λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•κ³ , λ” μ΄μƒ ν•„μ”ν•μ§€ μ•μ„ λ• λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•  μ μλ‹¤.


### 1. malloc ν•¨μ
`malloc` ν•¨μλ” μ”μ²­ν• ν¬κΈ°λ§νΌμ λ©”λ¨λ¦¬λ¥Ό ν™(heap)μ—μ„ ν• λ‹Ήν•λ‹¤. μ„±κ³µμ μΌλ΅ λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•λ©΄ λ©”λ¨λ¦¬ λΈ”λ΅μ μ‹μ‘ μ£Όμ†λ¥Ό λ°ν™ν•κ³ , μ‹¤ν¨ν•λ©΄ `NULL`μ„ λ°ν™ν•λ‹¤.

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int *arr;
    int n = 5;

    // nκ°μ μ •μν• κ³µκ°„μ„ λ™μ  ν• λ‹Ή
    arr = (int *)malloc(n * sizeof(int));

    if (arr == NULL) {
        printf("λ©”λ¨λ¦¬ ν• λ‹Ή μ‹¤ν¨\n");
        return 1;
    }

    // λ©”λ¨λ¦¬ ν• λ‹Ή μ„±κ³µ, λ°°μ—΄ μ΄κΈ°ν™”
    for (int i = 0; i < n; i++) {
        arr[i] = i + 1;
    }

    // λ°°μ—΄ μ”μ† μ¶λ ¥
    for (int i = 0; i < n; i++) {
        printf("%d ", arr[i]);
    }
    printf("\n");

    // λ™μ  ν• λ‹Ήλ λ©”λ¨λ¦¬ ν•΄μ 
    free(arr);

    return 0;
}
```

### 2. calloc ν•¨μ
`calloc` ν•¨μλ” `malloc` ν•¨μμ™€ μ μ‚¬ν•μ§€λ§, ν• λ‹Ήλ λ©”λ¨λ¦¬λ¥Ό 0μΌλ΅ μ΄κΈ°ν™”ν•λ‹¤. `calloc` ν•¨μλ” λ‘ κ°μ μΈμλ¥Ό λ°›λ”λ‹¤: ν• λ‹Ήν•  μ”μ†μ κ°μμ™€ κ° μ”μ†μ ν¬κΈ°.

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int *arr;
    int n = 5;

    // nκ°μ μ •μν• κ³µκ°„μ„ λ™μ  ν• λ‹Ή λ° μ΄κΈ°ν™”
    arr = (int *)calloc(n, sizeof(int));

    if (arr == NULL) {
        printf("λ©”λ¨λ¦¬ ν• λ‹Ή μ‹¤ν¨\n");
        return 1;
    }

    // λ°°μ—΄ μ”μ† μ¶λ ¥
    for (int i = 0; i < n; i++) {
        printf("%d ", arr[i]);
    }
    printf("\n");

    // λ™μ  ν• λ‹Ήλ λ©”λ¨λ¦¬ ν•΄μ 
    free(arr);

    return 0;
}
```

### 3. realloc ν•¨μ
`realloc` ν•¨μλ” μ΄λ―Έ ν• λ‹Ήλ λ©”λ¨λ¦¬ λΈ”λ΅μ ν¬κΈ°λ¥Ό λ³€κ²½ν•λ‹¤. μƒλ΅μ΄ ν¬κΈ°κ°€ κΈ°μ΅΄ ν¬κΈ°λ³΄λ‹¤ ν¬λ©΄ μ¶”κ°€ λ©”λ¨λ¦¬λ” μ΄κΈ°ν™”λμ§€ μ•μ€ μƒνƒλ΅ λ‚¨μ•„ μλ‹¤.

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int *arr;
    int n = 5;

    // nκ°μ μ •μν• κ³µκ°„μ„ λ™μ  ν• λ‹Ή
    arr = (int *)malloc(n * sizeof(int));

    if (arr == NULL) {
        printf("λ©”λ¨λ¦¬ ν• λ‹Ή μ‹¤ν¨\n");
        return 1;
    }

    // λ°°μ—΄ μ΄κΈ°ν™”
    for (int i = 0; i < n; i++) {
        arr[i] = i + 1;
    }

    // λ°°μ—΄ ν¬κΈ°λ¥Ό λ‘ λ°°λ΅ μ¬ν• λ‹Ή
    arr = (int *)realloc(arr, 2 * n * sizeof(int));

    if (arr == NULL) {
        printf("λ©”λ¨λ¦¬ μ¬ν• λ‹Ή μ‹¤ν¨\n");
        return 1;
    }

    // μ¶”κ°€λ κ³µκ°„ μ΄κΈ°ν™”
    for (int i = n; i < 2 * n; i++) {
        arr[i] = i + 1;
    }

    // λ°°μ—΄ μ”μ† μ¶λ ¥
    for (int i = 0; i < 2 * n; i++) {
        printf("%d ", arr[i]);
    }
    printf("\n");

    // λ™μ  ν• λ‹Ήλ λ©”λ¨λ¦¬ ν•΄μ 
    free(arr);

    return 0;
}
```

### 4. free ν•¨μ
`free` ν•¨μλ” λ™μ  ν• λ‹Ήλ λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•λ‹¤. ν• λ‹Ήλ λ©”λ¨λ¦¬λ¥Ό λ” μ΄μƒ μ‚¬μ©ν•μ§€ μ•μ„ λ•λ” λ°λ“μ‹ `free` ν•¨μλ¥Ό νΈμ¶ν•μ—¬ λ©”λ¨λ¦¬ λ„μλ¥Ό λ°©μ§€ν•΄μ•Ό ν•λ‹¤.

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int *arr;
    int n = 5;

    // nκ°μ μ •μν• κ³µκ°„μ„ λ™μ  ν• λ‹Ή
    arr = (int *)malloc(n * sizeof(int));

    if (arr == NULL) {
        printf("λ©”λ¨λ¦¬ ν• λ‹Ή μ‹¤ν¨\n");
        return 1;
    }

    // λ°°μ—΄ μ΄κΈ°ν™” λ° μ¶λ ¥
    for (int i = 0; i < n; i++) {
        arr[i] = i + 1;
        printf("%d ", arr[i]);
    }
    printf("\n");

    // λ™μ  ν• λ‹Ήλ λ©”λ¨λ¦¬ ν•΄μ 
    free(arr);

    return 0;
}
```

### μ£Όμμ‚¬ν•­
- λ©”λ¨λ¦¬ ν• λ‹Ή μ‹¤ν¨λ¥Ό ν•­μƒ ν™•μΈν•΄μ•Ό ν•λ‹¤.
- λ™μ  ν• λ‹Ήλ λ©”λ¨λ¦¬λ” μ‚¬μ© ν›„ λ°λ“μ‹ `free` ν•¨μλ΅ ν•΄μ ν•΄μ•Ό ν•λ‹¤.
- μ΄λ―Έ ν•΄μ λ λ©”λ¨λ¦¬μ— μ ‘κ·Όν•λ” κ²ƒμ€ μ„ν—ν•λ©°, ν”„λ΅κ·Έλ¨ μ¤λ¥λ¥Ό μΌμΌν‚¬ μ μλ‹¤.


## ν•¨μ ν¬μΈν„° (Function Pointers)

### κ°μ”
ν•¨μ ν¬μΈν„°λ” ν•¨μμ μ£Όμ†λ¥Ό μ €μ¥ν•λ” ν¬μΈν„°λ΅, λ°νƒ€μ„μ— ν•¨μλ¥Ό λ™μ μΌλ΅ νΈμ¶ν•  μ μλ” μ μ—°μ„±μ„ μ κ³µν•λ‹¤. ν•¨μ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ©΄ ν•¨μ ν…μ΄λΈ”μ„ λ§λ“¤κ±°λ‚, μ½λ°± ν•¨μλ¥Ό κµ¬ν„ν•  μ μλ‹¤.


### 1. ν•¨μ ν¬μΈν„° μ„ μ–Έκ³Ό μ‚¬μ©
ν•¨μ ν¬μΈν„°λ” ν•¨μμ μ‹κ·Έλ‹μ²λ¥Ό λ”°λΌ μ„ μ–Έν•λ‹¤. μλ¥Ό λ“¤μ–΄, λ‘ κ°μ `int` μΈμλ¥Ό λ°›μ•„ `int`λ¥Ό λ°ν™ν•λ” ν•¨μ ν¬μΈν„°λ” λ‹¤μκ³Ό κ°™μ΄ μ„ μ–Έν•  μ μλ‹¤.

```c
#include <stdio.h>

// λ‘ μ •μμ ν•©μ„ κµ¬ν•λ” ν•¨μ
int add(int a, int b) {
    return a + b;
}

int main() {
    // ν•¨μ ν¬μΈν„° μ„ μ–Έ λ° μ΄κΈ°ν™”
    int (*operation)(int, int) = add;

    // ν•¨μ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•μ—¬ ν•¨μ νΈμ¶
    printf("10 + 5 = %d\n", operation(10, 5));

    return 0;
}
```

### 2. μ½λ°± ν•¨μ
μ½λ°± ν•¨μλ” λ‹¤λ¥Έ ν•¨μμ μΈμλ΅ μ „λ‹¬λλ” ν•¨μλ΅, μ΄λ²¤νΈ κΈ°λ° ν”„λ΅κ·Έλλ°μ—μ„ μμ£Ό μ‚¬μ©λλ‹¤.

```c
#include <stdio.h>

// λ‘ μ •μμ ν•©μ„ κµ¬ν•λ” ν•¨μ
int add(int a, int b) {
    return a + b;
}

// λ‘ μ •μμ κ³±μ„ κµ¬ν•λ” ν•¨μ
int multiply(int a, int b) {
    return a * b;
}

// λ‘ μ •μμ— λ€ν•΄ μ—°μ‚°μ„ μν–‰ν•λ” ν•¨μ
void compute(int (*operation)(int, int), int x, int y) {
    printf("κ²°κ³Ό: %d\n", operation(x, y));
}

int main() {
    // ν•©μ„ κµ¬ν•λ” μ½λ°± ν•¨μ νΈμ¶
    compute(add, 10, 5);

    // κ³±μ„ κµ¬ν•λ” μ½λ°± ν•¨μ νΈμ¶
    compute(multiply, 10, 5);

    return 0;
}
```

### 3. ν•¨μ ν…μ΄λΈ”
ν•¨μ ν…μ΄λΈ”μ€ ν•¨μ ν¬μΈν„° λ°°μ—΄μ„ μ‚¬μ©ν•μ—¬ μ—¬λ¬ ν•¨μλ¥Ό μ €μ¥ν•κ³ , λ°νƒ€μ„μ— λ™μ μΌλ΅ νΈμ¶ν•  μ μλ” κµ¬μ΅°λ¥Ό μ κ³µν•λ‹¤.

```c
#include <stdio.h>

// λ‘ μ •μμ ν•©μ„ κµ¬ν•λ” ν•¨μ
int add(int a, int b) {
    return a + b;
}

// λ‘ μ •μμ μ°¨λ¥Ό κµ¬ν•λ” ν•¨μ
int subtract(int a, int b) {
    return a - b;
}

// λ‘ μ •μμ κ³±μ„ κµ¬ν•λ” ν•¨μ
int multiply(int a, int b) {
    return a * b;
}

int main() {
    // ν•¨μ ν¬μΈν„° λ°°μ—΄ μ„ μ–Έ λ° μ΄κΈ°ν™”
    int (*operations[3])(int, int) = {add, subtract, multiply};

    int x = 10, y = 5;

    // ν•¨μ ν¬μΈν„° λ°°μ—΄μ„ μ‚¬μ©ν•μ—¬ ν•¨μ νΈμ¶
    printf("10 + 5 = %d\n", operations[0](x, y));
    printf("10 - 5 = %d\n", operations[1](x, y));
    printf("10 * 5 = %d\n", operations[2](x, y));

    return 0;
}
```

### μ£Όμμ‚¬ν•­
- ν•¨μ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•  λ• μ‹κ·Έλ‹μ²κ°€ μΌμΉν•λ”μ§€ ν™•μΈν•΄μ•Ό ν•λ‹¤.
- ν•¨μ ν¬μΈν„° λ°°μ—΄μ„ μ‚¬μ©ν•  λ•λ” μΈλ±μ¤ λ²”μ„λ¥Ό λ²—μ–΄λ‚μ§€ μ•λ„λ΅ μ£Όμν•΄μ•Ό ν•λ‹¤.
- μλ»λ ν•¨μ ν¬μΈν„° μ‚¬μ©μ€ ν”„λ΅κ·Έλ¨ μ¤λ¥λ¥Ό μΌμΌν‚¬ μ μλ‹¤.

```toc

```
