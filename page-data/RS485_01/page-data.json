{"componentChunkName":"component---src-templates-blog-template-js","path":"/RS485_01/","result":{"data":{"cur":{"id":"89c56fa0-6f66-50cd-8589-dbc15c4ec029","html":"<h2 id=\"rs485-í†µì‹ -ê²°ì„ \" style=\"position:relative;\"><a href=\"#rs485-%ED%86%B5%EC%8B%A0-%EA%B2%B0%EC%84%A0\" aria-label=\"rs485 í†µì‹  ê²°ì„  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RS485 í†µì‹  ê²°ì„ </h2>\n<h3 id=\"ê²°ì„ ë„-ì„¤ëª…\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EC%84%A0%EB%8F%84-%EC%84%A4%EB%AA%85\" aria-label=\"ê²°ì„ ë„ ì„¤ëª… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²°ì„ ë„ ì„¤ëª…</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 444px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB0ElEQVQoz1VRy27TUBD1B4KEBEUsCUWAELCAPgIrKiQQH1EkYFu2ZQ2UVYmElJi0ft34lZTEJglJfB92fdCMA6KWzp05c+dx7tgaiQzp9whZNIEqSxipcb5UDQqNWhIUalWg1ktGZZbQ5RIrIzHVGrkqkRcG+ULBktkcRTKByn9Da81QBLO2/2AuQCsDowka5RrkW+a8gqpKyL/NpGqsUtBKsf0fTY68wOW6xhgD6+fZGeIwQjgIEfg+RCAgggCe6yEcDOB7PoQQiOMYnuuyz3lCwPd9jgV+gIEQSNMUFh2O48B1HNi2jdOTU/T7/bV/gh+2zXeu48Lu9dDtdpnTILrrdXs8gOpoiAUAWZZBSonprylWqxVzeg7Zqqrw9egIHw4OkMQx3r99hzRJ8GZ/H4vFgmN5lmGYps2TqWGapJjP5xiNRhzMJhlzUk+7mc1mvIaiKBCFIQ8llZRLKr98+ow4ipqGdLS3d3D/7j1sPX6CIAjw7fgYt2628OjBQ4RhSDPhex5ev3yF9s4uPh4eIo5iXLl0GXc2b+PGxnWu37h6DVZd1xgOh4jCiJOavya5URInzOmjFdAOO50OxuMxq95stfCs/RQvnu9hd2ubBfwB8ueH69FTxjEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Wire_01.png\"\n        title=\"Wire_01.png\"\n        src=\"/static/e43ddfaef967d46370e652b4cc534c7e/9b7bd/Wire_01.png\"\n        srcset=\"/static/e43ddfaef967d46370e652b4cc534c7e/e9ff0/Wire_01.png 180w,\n/static/e43ddfaef967d46370e652b4cc534c7e/f21e7/Wire_01.png 360w,\n/static/e43ddfaef967d46370e652b4cc534c7e/9b7bd/Wire_01.png 444w\"\n        sizes=\"(max-width: 444px) 100vw, 444px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì´ë¯¸ì§€ì— ë‚˜ì™€ ìˆëŠ” ê²°ì„ ë„ë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ì„ ì´ í•„ìš”í•˜ë‹¤:</p>\n<ol>\n<li>1ë²ˆ ë° 2ë²ˆ í•€: AC 300V ì „ì› ê³µê¸‰</li>\n<li>3ë²ˆ ë° 4ë²ˆ í•€: AC 5A ì „ì› ê³µê¸‰</li>\n<li>5ë²ˆ í•€: A+ (RS485 í†µì‹ ì„ )</li>\n<li>6ë²ˆ í•€: B- (RS485 í†µì‹ ì„ )</li>\n<li>7ë²ˆ í•€: SG (Signal Ground)</li>\n<li>8ë²ˆ ë° 9ë²ˆ í•€: AC 90~260V / DC 110V ì „ì› ê³µê¸‰</li>\n</ol>\n<h3 id=\"ê²°ì„ -ë°©ë²•\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EC%84%A0-%EB%B0%A9%EB%B2%95\" aria-label=\"ê²°ì„  ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²°ì„  ë°©ë²•</h3>\n<ol>\n<li>\n<p><strong>ì „ì› ê²°ì„ </strong>:</p>\n<ul>\n<li>1ë²ˆê³¼ 2ë²ˆ í•€ì— AC 300V ì „ì›ì„ ì—°ê²°</li>\n<li>3ë²ˆê³¼ 4ë²ˆ í•€ì— AC 5A ì „ì›ì„ ì—°ê²°</li>\n<li>8ë²ˆê³¼ 9ë²ˆ í•€ì— AC 90~260V ë˜ëŠ” DC 110V ì „ì›ì„ ì—°ê²°</li>\n</ul>\n</li>\n<li>\n<p><strong>RS485 í†µì‹ ì„  ê²°ì„ </strong>:</p>\n<ul>\n<li>A+ (5ë²ˆ í•€)ì™€ B- (6ë²ˆ í•€)ì„ ê°ê° RS485 ì¥ì¹˜ì˜ A+ì™€ B-ì— ì—°ê²°</li>\n<li>SG (7ë²ˆ í•€)ì€ Signal Groundë¡œ ì‚¬ìš©</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"txì™€-rxì˜-ê°œë…\" style=\"position:relative;\"><a href=\"#tx%EC%99%80-rx%EC%9D%98-%EA%B0%9C%EB%85%90\" aria-label=\"txì™€ rxì˜ ê°œë… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TXì™€ RXì˜ ê°œë…</h2>\n<ul>\n<li><strong>TX (Transmit)</strong>: ì†¡ì‹ , ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ì—­í• </li>\n<li><strong>RX (Receive)</strong>: ìˆ˜ì‹ , ë°ì´í„°ë¥¼ ë°›ëŠ” ì—­í• </li>\n</ul>\n<p>RS485ëŠ” ì°¨ë™ ì‹ í˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì „ì†¡ì„ í•˜ê¸° ë•Œë¬¸ì— TXì™€ RXì˜ êµ¬ë¶„ì´ ì—†ë‹¤. A+ì™€ B- ë‘ ê°œì˜ ë¼ì¸ìœ¼ë¡œ ë°ì´í„°ê°€ ì–‘ë°©í–¥ìœ¼ë¡œ ì „ì†¡ëœë‹¤.</p>\n<h2 id=\"serial-to-usbë¡œ-ë°ì´í„°-ìˆ˜ì‹ \" style=\"position:relative;\"><a href=\"#serial-to-usb%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EC%8B%A0\" aria-label=\"serial to usbë¡œ ë°ì´í„° ìˆ˜ì‹  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Serial to USBë¡œ ë°ì´í„° ìˆ˜ì‹ </h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGLhGNIYf/EABsQAAIBBQAAAAAAAAAAAAAAAAACAQMQEhMy/9oACAEBAAEFApY2sZtejx//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAACAwAAAAAAAAAAAAAAAAABECAhMf/aAAgBAQAGPwKlph//xAAaEAEAAwADAAAAAAAAAAAAAAABACFREUGB/9oACAEBAAE/IULpA+5zW+EVW8guy1tn/9oADAMBAAIAAwAAABAIL//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIf/xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhMWH/2gAIAQEAAT8Q2TANDHaGAXdQHYr6jkVnmPdW52d+m3Z//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Wire_02.jpg\"\n        title=\"Wire_02.jpg\"\n        src=\"/static/eea2f503f4279fdde9ef8a1315643013/80e3c/Wire_02.jpg\"\n        srcset=\"/static/eea2f503f4279fdde9ef8a1315643013/4ec73/Wire_02.jpg 180w,\n/static/eea2f503f4279fdde9ef8a1315643013/158ba/Wire_02.jpg 360w,\n/static/eea2f503f4279fdde9ef8a1315643013/80e3c/Wire_02.jpg 720w,\n/static/eea2f503f4279fdde9ef8a1315643013/47311/Wire_02.jpg 1080w,\n/static/eea2f503f4279fdde9ef8a1315643013/bb656/Wire_02.jpg 1297w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h4 id=\"rs485-to-usb-ì»¨ë²„í„°-í•€-ì„¤ëª…\" style=\"position:relative;\"><a href=\"#rs485-to-usb-%EC%BB%A8%EB%B2%84%ED%84%B0-%ED%95%80-%EC%84%A4%EB%AA%85\" aria-label=\"rs485 to usb ì»¨ë²„í„° í•€ ì„¤ëª… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RS485 to USB ì»¨ë²„í„° í•€ ì„¤ëª…</h4>\n<p>ì»¨ë²„í„° í•€ ë°°ì¹˜ì™€ ê°ê°ì˜ ì˜ë¯¸ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤:</p>\n<ul>\n<li><strong>TRXD+ (Transmit/Receive Data Positive)</strong>: RS485ì˜ A+ ì„ ê³¼ ì—°ê²°</li>\n<li><strong>TRXD- (Transmit/Receive Data Negative)</strong>: RS485ì˜ B- ì„ ê³¼ ì—°ê²°</li>\n<li><strong>GND (Ground)</strong>: ì‹ í˜¸ ì ‘ì§€, RS485 ì¥ì¹˜ì˜ SGì™€ ì—°ê²°</li>\n</ul>\n<h4 id=\"ë‹¨ê³„ë³„-ì—°ê²°-ë°©ë²•\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EA%B3%84%EB%B3%84-%EC%97%B0%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"ë‹¨ê³„ë³„ ì—°ê²° ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‹¨ê³„ë³„ ì—°ê²° ë°©ë²•</h4>\n<ol>\n<li>\n<p><strong>RS485 to USB ì»¨ë²„í„° ì¤€ë¹„</strong>:</p>\n<ul>\n<li>RS485 ì‹ í˜¸ë¥¼ USB ì‹ í˜¸ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•´ RS485 to USB ì»¨ë²„í„°ê°€ í•„ìš”í•˜ë‹¤.</li>\n</ul>\n</li>\n<li>\n<p><strong>RS485 to USB ì»¨ë²„í„° ì—°ê²°</strong>:</p>\n<ul>\n<li><strong>TRXD+</strong> (ì»¨ë²„í„°ì˜ 3ë²ˆ í•€)ë¥¼ RS485 ì¥ì¹˜ì˜ <strong>A+</strong> (5ë²ˆ í•€)ì— ì—°ê²°</li>\n<li><strong>TRXD-</strong> (ì»¨ë²„í„°ì˜ 8ë²ˆ í•€)ë¥¼ RS485 ì¥ì¹˜ì˜ <strong>B-</strong> (6ë²ˆ í•€)ì— ì—°ê²°</li>\n<li><strong>GND</strong> (ì»¨ë²„í„°ì˜ 5ë²ˆ í•€)ë¥¼ RS485 ì¥ì¹˜ì˜ <strong>SG</strong> (7ë²ˆ í•€)ì— ì—°ê²°</li>\n</ul>\n</li>\n<li>\n<p><strong>PCì— USB ì—°ê²°</strong>:</p>\n<ul>\n<li>RS485 to USB ì»¨ë²„í„°ë¥¼ PCì˜ USB í¬íŠ¸ì— ì—°ê²°</li>\n</ul>\n</li>\n<li>\n<p><strong>ì‹œë¦¬ì–¼ í†µì‹  ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜</strong>:</p>\n<ul>\n<li>Putty, Tera Term ë˜ëŠ” ë‹¤ë¥¸ ì‹œë¦¬ì–¼ í†µì‹  ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì„¤ì¹˜í•˜ê±°ë‚˜</li>\n<li>Serial í†µì‹ ì„ êµ¬í˜„í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©</li>\n</ul>\n</li>\n<li>\n<p><strong>ì‹œë¦¬ì–¼ í¬íŠ¸ ì„¤ì •</strong>:</p>\n<ul>\n<li>ì‹œë¦¬ì–¼ í†µì‹  ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œ ì ì ˆí•œ COM í¬íŠ¸ë¥¼ ì„ íƒ</li>\n<li>ì´ ì œí’ˆì˜ ê²½ìš° ì „ì†¡ì†ë„ëŠ” 9600bps/19200bps (ë°˜2ì¤‘, ì¡°ë³´ë™ê¸°ë°©ì‹)</li>\n<li>Dataí˜•ì‹ì€ Start 1bit, Data 8bit, íŒ¨ë¦¬í‹° None, Stop 1bit</li>\n<li>í”„ë¡œí† ì½œ ëª…ì€ Modbus RTU (ì¸í„°í˜ì´ìŠ¤ : RS-485 2Wire)</li>\n</ul>\n</li>\n</ol>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#rs485-%ED%86%B5%EC%8B%A0-%EA%B2%B0%EC%84%A0\">RS485 í†µì‹  ê²°ì„ </a></p>\n<ul>\n<li><a href=\"#%EA%B2%B0%EC%84%A0%EB%8F%84-%EC%84%A4%EB%AA%85\">ê²°ì„ ë„ ì„¤ëª…</a></li>\n<li><a href=\"#%EA%B2%B0%EC%84%A0-%EB%B0%A9%EB%B2%95\">ê²°ì„  ë°©ë²•</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#tx%EC%99%80-rx%EC%9D%98-%EA%B0%9C%EB%85%90\">TXì™€ RXì˜ ê°œë…</a></p>\n</li>\n<li>\n<p><a href=\"#serial-to-usb%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EC%8B%A0\">Serial to USBë¡œ ë°ì´í„° ìˆ˜ì‹ </a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#rs485-to-usb-%EC%BB%A8%EB%B2%84%ED%84%B0-%ED%95%80-%EC%84%A4%EB%AA%85\">RS485 to USB ì»¨ë²„í„° í•€ ì„¤ëª…</a></li>\n<li><a href=\"#%EB%8B%A8%EA%B3%84%EB%B3%84-%EC%97%B0%EA%B2%B0-%EB%B0%A9%EB%B2%95\">ë‹¨ê³„ë³„ ì—°ê²° ë°©ë²•</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"RS485 í†µì‹  ê²°ì„  ê²°ì„ ë„ ì„¤ëª…  ì´ë¯¸ì§€ì— ë‚˜ì™€ ìˆëŠ” ê²°ì„ ë„ë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ì„ ì´ í•„ìš”í•˜ë‹¤: 1ë²ˆ ë° 2ë²ˆ í•€: AC 300V ì „ì› ê³µê¸‰ 3ë²ˆ ë° 4ë²ˆ í•€: AC 5A ì „ì› ê³µê¸‰ 5ë²ˆ í•€: A+ (RS485 í†µì‹ ì„ ) 6ë²ˆ í•€: B- (RS485 í†µì‹ ì„ ) 7ë²ˆ í•€: SG (Signal Ground) 8ë²ˆ ë° 9ë²ˆ í•€: AC 90~260V / DC 110V ì „ì› ê³µê¸‰ ê²°ì„  ë°©ë²• ì „ì› ê²°ì„ : 1ë²ˆê³¼ 2ë²ˆ í•€ì— AC 300V ì „ì›ì„ ì—°ê²° 3ë²ˆê³¼ 4ë²ˆ í•€ì— AC 5A ì „ì›ì„ ì—°ê²° 8ë²ˆê³¼ 9ë²ˆ í•€ì— AC 90~260V ë˜ëŠ” DC 110V ì „ì›ì„ ì—°ê²° RS485 í†µì‹ ì„  ê²°ì„ : A+ (5ë²ˆ í•€)ì™€ B- (6ë²ˆ í•€)ì„ ê°ê° RS485 ì¥ì¹˜ì˜ A+ì™€ B-ì— ì—°ê²° SG (7ë²ˆ í•€)ì€ Signal Groundë¡œ ì‚¬ìš© TXì™€ RXì˜ ê°œë… TX (Transmit): ì†¡ì‹ , ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ì—­í•  RX (Receive): ìˆ˜ì‹ , ë°ì´í„°ë¥¼ ë°›ëŠ” ì—­í•  RS485ëŠ” ì°¨ë™ ì‹ í˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì „ì†¡ì„ í•˜ê¸° â€¦","frontmatter":{"date":"June 30, 2024","title":"RS485 í†µì‹  ê²°ì„  ë° ë°ì´í„° ìˆ˜ì‹  ë°©ë²•","categories":"ë„¤íŠ¸ì›Œí¬","author":"ì‹¬ìš°ì§„","emoji":"ğŸ“¡"},"fields":{"slug":"/RS485_01/"}},"next":{"id":"c316bc0d-75c7-5890-942a-83493da5fb98","html":"<h2 id=\"ì½”ë“œ-ì„¤ëª…\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EC%84%A4%EB%AA%85\" aria-label=\"ì½”ë“œ ì„¤ëª… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì½”ë“œ ì„¤ëª…</h2>\n<p>MVVM êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ì„œ\r\nView ëŠ” MainWindow í•˜ë‚˜ë¡œ êµ¬ì„±ë˜ì–´ ìˆê³ \r\nì£¼ìš” ê¸°ëŠ¥ì€ MainWindowì—ì„œ MainViewModelì„ í˜¸ì¶œí•˜ëŠ” êµ¬ì¡°\r\nì½”ì–´ê¸°ëŠ¥ê³¼ í†µì‹ ì„ ë‹´ë‹¹í•˜ëŠ” ê¸°ëŠ¥ì€ Core í´ë”ì™€ Net.IO í´ë”ë¡œ ë”°ë¡œ ì‘ì„±í•˜ì˜€ê³ \r\në³µì¡í•œ ë””ìì¸ì€ Themes í´ë”ì— xaml ë¡œ ì‘ì„±í•´ì„œ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìŒ</p>\n<p>í´ë¼ì´ì–¸íŠ¸ì—ì„œ í†µì‹ ì„ ë‹´ë‹¹í•˜ëŠ” Server.cs íŒŒì¼ê³¼\r\në”°ë¡œ ë§Œë“  ì½˜ì†”ì•± ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ì„œë²„-í´ë¼ì´ì–¸íŠ¸ êµ¬ì¡°ë¡œ êµ¬í˜„í•˜ì˜€ìŒ</p>\n<h3 id=\"view-mainwindowxaml-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#view-mainwindowxaml-%EC%BD%94%EB%93%9C\" aria-label=\"view mainwindowxaml ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>View (MainWindow.xaml) ì½”ë“œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Window</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>WpfVanillaChat.MainWindow<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/winfx/2006/xaml/presentation<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>x</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/winfx/2006/xaml<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.microsoft.com/expression/blend/2008<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>mc</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.openxmlformats.org/markup-compatibility/2006<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>local</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>clr-namespace:WpfVanillaChat<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>viewmodel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>clr-namespace:WpfVanillaChat.MVVM.ViewModel<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\"><span class=\"token namespace\">mc:</span>Ignorable</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>d<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>650<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1200<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#36393F<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\">WindowStyle</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>None<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\">AllowsTransparency</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>True<span class=\"token punctuation\">\"</span></span>\r\n        <span class=\"token attr-name\">ResizeMode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>CanResizeWithGrip<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Window.DataContext</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">viewmodel:</span>MainViewModel</span><span class=\"token punctuation\">/></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Window.DataContext</span><span class=\"token punctuation\">></span></span>\r\n\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid.RowDefinitions</span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RowDefinition</span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>25<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RowDefinition</span><span class=\"token punctuation\">/></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid.RowDefinitions</span><span class=\"token punctuation\">></span></span>\r\n\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid.ColumnDefinitions</span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ColumnDefinition</span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>200<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ColumnDefinition</span><span class=\"token punctuation\">/></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid.ColumnDefinitions</span><span class=\"token punctuation\">></span></span>\r\n\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Border</span> <span class=\"token attr-name\">Grid.ColumnSpan</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#252525<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">MouseDown</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Border_MouseDown<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid</span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Stretch<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>VanillaChat<span class=\"token punctuation\">\"</span></span>\r\n                       <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Gray<span class=\"token punctuation\">\"</span></span>\r\n                       <span class=\"token attr-name\">FontWeight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SemiBold<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>StackPanel</span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Right<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token attr-name\">Orientation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Horizontal<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btnMinimaze<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Transparent<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">BorderThickness</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Gray<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">FontWeight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Bold<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0,0,0,3<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btnMinimaze_Click<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btnWindowState<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[ ]<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Transparent<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">BorderThickness</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Gray<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">FontWeight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Bold<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btnWindowState_Click<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\"><span class=\"token namespace\">x:</span>Name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btnClose<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Transparent<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">BorderThickness</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Gray<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">FontWeight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Bold<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btnClose_Click<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>StackPanel</span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Border</span><span class=\"token punctuation\">></span></span>\r\n\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid</span> <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#2F3136<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Grid.Row</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid.RowDefinitions</span><span class=\"token punctuation\">></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RowDefinition</span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RowDefinition</span><span class=\"token punctuation\">/></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RowDefinition</span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid.RowDefinitions</span><span class=\"token punctuation\">></span></span>\r\n\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@Channel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Center<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">FontWeight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SemiBold<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>White<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>8,0,0,0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ListView</span> <span class=\"token attr-name\">ItemsSource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding Users}<span class=\"token punctuation\">\"</span></span> \r\n                      <span class=\"token attr-name\">SelectedItem</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding SelectedContact}<span class=\"token punctuation\">\"</span></span>\r\n                      <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Transparent<span class=\"token punctuation\">\"</span></span> \r\n                      <span class=\"token attr-name\">BorderThickness</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Grid.Row</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> \r\n                      <span class=\"token attr-name\">ItemContainerStyle</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{StaticResource ContactCard}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n            \r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>StackPanel</span> <span class=\"token attr-name\">Grid.Row</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TextBox</span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>30<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#292B2F<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>White<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">FontWeight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SemiBold<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">Text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding Username, UpdateSourceTrigger=PropertyChanged}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>30<span class=\"token punctuation\">\"</span></span>\r\n                        <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#292B2F<span class=\"token punctuation\">\"</span></span>\r\n                        <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>White<span class=\"token punctuation\">\"</span></span>\r\n                        <span class=\"token attr-name\">FontWeight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SemiBold<span class=\"token punctuation\">\"</span></span>\r\n                        <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Connect<span class=\"token punctuation\">\"</span></span>\r\n                        <span class=\"token attr-name\">Command</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding ConnectToServerCommand}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>StackPanel</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid</span><span class=\"token punctuation\">></span></span>\r\n\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid</span> <span class=\"token attr-name\">Grid.Column</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Grid.Row</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid.RowDefinitions</span><span class=\"token punctuation\">></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RowDefinition</span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RowDefinition</span><span class=\"token punctuation\">/></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RowDefinition</span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid.RowDefinitions</span><span class=\"token punctuation\">></span></span>\r\n\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Border</span> <span class=\"token attr-name\">BorderBrush</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#2F3136<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">BorderThickness</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0,0,0,2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid</span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Stretch<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Label</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@Username<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>White<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">FontWeight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Bold<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5,0,5,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>StackPanel</span> <span class=\"token attr-name\">Orientation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Horizontal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Right<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Image</span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">RenderOptions.BitmapScalingMode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Fant<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5,0,5,0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Source</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./Icons/call.png<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>StackPanel</span><span class=\"token punctuation\">></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid</span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Border</span><span class=\"token punctuation\">></span></span>\r\n\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ListView</span> <span class=\"token attr-name\">ItemsSource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding Chats}<span class=\"token punctuation\">\"</span></span>\r\n                      <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Transparent<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">BorderThickness</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span>\r\n                      <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>White<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">FontSize</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>16<span class=\"token punctuation\">\"</span></span>\r\n                      <span class=\"token attr-name\">Margin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>8,0,0,0<span class=\"token punctuation\">\"</span></span>\r\n                      <span class=\"token attr-name\">Grid.Row</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid</span> <span class=\"token attr-name\">Grid.Row</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Grid.ColumnDefinitions</span><span class=\"token punctuation\">></span></span>\r\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ColumnDefinition</span><span class=\"token punctuation\">/></span></span>\r\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ColumnDefinition</span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid.ColumnDefinitions</span><span class=\"token punctuation\">></span></span>\r\n\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TextBox</span> <span class=\"token attr-name\">Grid.Row</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>59<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>910<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Left<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">VerticalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Stretch<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">VerticalContentAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Center<span class=\"token punctuation\">\"</span></span>\r\n                         \r\n                         <span class=\"token attr-name\">Text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding Chat, UpdateSourceTrigger=PropertyChanged}<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">Grid.ColumnSpan</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#292B2F<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">BorderThickness</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>White<span class=\"token punctuation\">\"</span></span>\r\n                         <span class=\"token attr-name\">FontWeight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Medium<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\r\n\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>StackPanel</span> <span class=\"token attr-name\">Orientation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Horizontal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token attr-name\">HorizontalAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Right<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#292B2F<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token attr-name\">Grid.Column</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\r\n                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter<span class=\"token punctuation\">\"</span></span> \r\n                            <span class=\"token attr-name\">Height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>59<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token attr-name\">Width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>89<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token attr-name\">Background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#292B2F<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token attr-name\">Foreground</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>White<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token attr-name\">FontSize</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token attr-name\">Command</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{Binding SendMessageCommand}<span class=\"token punctuation\">\"</span></span>\r\n                            <span class=\"token punctuation\">/></span></span>\r\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>StackPanel</span><span class=\"token punctuation\">></span></span>\r\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid</span><span class=\"token punctuation\">></span></span>\r\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid</span><span class=\"token punctuation\">></span></span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Grid</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Window</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"viewmodel-êµ¬ì„±-ìš”ì†Œ\" style=\"position:relative;\"><a href=\"#viewmodel-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\" aria-label=\"viewmodel êµ¬ì„± ìš”ì†Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ViewModel êµ¬ì„± ìš”ì†Œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">namespace</span> <span class=\"token namespace\">WpfVanillaChat<span class=\"token punctuation\">.</span>MVVM<span class=\"token punctuation\">.</span>ViewModel</span>\r\n<span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MainViewModel</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">INotifyPropertyChanged</span></span>\r\n    <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">ObservableCollection<span class=\"token punctuation\">&lt;</span>UserModel<span class=\"token punctuation\">></span></span> Users <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ObservableCollection<span class=\"token punctuation\">&lt;</span>UserModel<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">ObservableCollection<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span> Chats <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ObservableCollection<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">ObservableCollection<span class=\"token punctuation\">&lt;</span>ContactModel<span class=\"token punctuation\">></span></span> Contacts <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ObservableCollection<span class=\"token punctuation\">&lt;</span>ContactModel<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">ObservableCollection<span class=\"token punctuation\">&lt;</span>MessageModel<span class=\"token punctuation\">></span></span> Messages <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ObservableCollection<span class=\"token punctuation\">&lt;</span>MessageModel<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">/* Commands */</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">ICommand</span> ConnectToServerCommand <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">ICommand</span> SendMessageCommand <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\r\n        \r\n\r\n        <span class=\"token comment\">/* Username ì„ ì–¸ */</span>\r\n\r\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> _username <span class=\"token operator\">=</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> Username\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">get</span> <span class=\"token operator\">=></span> _username<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">set</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_username <span class=\"token operator\">!=</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    _username <span class=\"token operator\">=</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token function\">OnPropertyChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token comment\">/* Chat ì„ ì–¸ */</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> _chat <span class=\"token operator\">=</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> Chat\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">get</span> <span class=\"token operator\">=></span> _chat<span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">set</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_chat <span class=\"token operator\">!=</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    _chat <span class=\"token operator\">=</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token function\">OnPropertyChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token comment\">/* ContactModel ì„ ì–¸ */</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">ContactModel</span> _selectedcontact <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ContactModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">ContactModel</span> Selectedcontact\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">get</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> _selectedcontact<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\r\n            <span class=\"token keyword\">set</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                _selectedcontact <span class=\"token operator\">=</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token function\">OnPropertyChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token comment\">/* ì„œë²„&amp;íŒŒì´ì–´ë² ì´ìŠ¤ ì„ ì–¸ */</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\">Server</span> _server<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\">FirebaseHelper</span> _firebaseHelper<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token function\">MainViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            _server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Server</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            _firebaseHelper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">FirebaseHelper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            _server<span class=\"token punctuation\">.</span>UserConnectedEvent <span class=\"token operator\">+=</span> UserConnected<span class=\"token punctuation\">;</span>\r\n            _server<span class=\"token punctuation\">.</span>MsgReceivedEvent <span class=\"token operator\">+=</span> MessageReceived<span class=\"token punctuation\">;</span>\r\n            _server<span class=\"token punctuation\">.</span>UserDisconnectedEvent <span class=\"token operator\">+=</span> RemoveUser<span class=\"token punctuation\">;</span>\r\n\r\n            ConnectToServerCommand <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">RelayCommand</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> o <span class=\"token operator\">=></span> <span class=\"token keyword\">await</span> <span class=\"token function\">ConnectToServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> o <span class=\"token operator\">=></span> <span class=\"token operator\">!</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">IsNullOrEmpty</span><span class=\"token punctuation\">(</span>Username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            SendMessageCommand <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">RelayCommand</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> o <span class=\"token operator\">=></span> <span class=\"token keyword\">await</span> <span class=\"token function\">SendMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> o <span class=\"token operator\">=></span> <span class=\"token operator\">!</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">IsNullOrEmpty</span><span class=\"token punctuation\">(</span>Chat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task</span> <span class=\"token function\">ConnectToServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            _server<span class=\"token punctuation\">.</span><span class=\"token function\">ConnectToServer</span><span class=\"token punctuation\">(</span>Username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">await</span> <span class=\"token function\">LoadMessages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token comment\">/* Chat Load&amp;Send 1:N */</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task</span> <span class=\"token function\">LoadMessages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Users<span class=\"token punctuation\">.</span>Count <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> roomname <span class=\"token operator\">=</span> <span class=\"token function\">GetRoomName</span><span class=\"token punctuation\">(</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">Select</span><span class=\"token punctuation\">(</span>u <span class=\"token operator\">=></span> u<span class=\"token punctuation\">.</span>Username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> chats <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> _firebaseHelper<span class=\"token punctuation\">.</span><span class=\"token function\">LoadMessagesAsync</span><span class=\"token punctuation\">(</span>roomname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                Application<span class=\"token punctuation\">.</span>Current<span class=\"token punctuation\">.</span>Dispatcher<span class=\"token punctuation\">.</span><span class=\"token function\">Invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    Chats<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> chat <span class=\"token keyword\">in</span> chats<span class=\"token punctuation\">)</span>\r\n                    <span class=\"token punctuation\">{</span>\r\n                        Chats<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>chat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task</span> <span class=\"token function\">SendMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Users<span class=\"token punctuation\">.</span>Count <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> roomname <span class=\"token operator\">=</span> <span class=\"token function\">GetRoomName</span><span class=\"token punctuation\">(</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">Select</span><span class=\"token punctuation\">(</span>u <span class=\"token operator\">=></span> u<span class=\"token punctuation\">.</span>Username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">await</span> _server<span class=\"token punctuation\">.</span><span class=\"token function\">SendMessageToServer</span><span class=\"token punctuation\">(</span>Chat<span class=\"token punctuation\">,</span> roomname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">await</span> _firebaseHelper<span class=\"token punctuation\">.</span><span class=\"token function\">SaveMessageAsync</span><span class=\"token punctuation\">(</span>roomname<span class=\"token punctuation\">,</span> Username<span class=\"token punctuation\">,</span> Chat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                Chat <span class=\"token operator\">=</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë©”ì‹œì§€ ì „ì†¡ í›„ ì…ë ¥ì°½ ë¹„ìš°ê¸°</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token comment\">/* Action */</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">UserConnected</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> username<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> uid<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> user <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">UserModel</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                Username <span class=\"token operator\">=</span> username<span class=\"token punctuation\">,</span>\r\n                UID <span class=\"token operator\">=</span> uid<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>Users<span class=\"token punctuation\">.</span><span class=\"token function\">Any</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>UID <span class=\"token operator\">==</span> user<span class=\"token punctuation\">.</span>UID<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                Application<span class=\"token punctuation\">.</span>Current<span class=\"token punctuation\">.</span>Dispatcher<span class=\"token punctuation\">.</span><span class=\"token function\">Invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Users<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">await</span> <span class=\"token function\">LoadMessages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì‚¬ìš©ì ì—°ê²° ì‹œ ë©”ì‹œì§€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹œë„</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">MessageReceived</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_server<span class=\"token punctuation\">.</span>PacketReader <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> msg <span class=\"token operator\">=</span> _server<span class=\"token punctuation\">.</span>PacketReader<span class=\"token punctuation\">.</span><span class=\"token function\">ReadMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                \r\n                Application<span class=\"token punctuation\">.</span>Current<span class=\"token punctuation\">.</span>Dispatcher<span class=\"token punctuation\">.</span><span class=\"token function\">Invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Chats<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">RemoveUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_server<span class=\"token punctuation\">.</span>PacketReader <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> uid <span class=\"token operator\">=</span> _server<span class=\"token punctuation\">.</span>PacketReader<span class=\"token punctuation\">.</span><span class=\"token function\">ReadMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> user <span class=\"token operator\">=</span> Users<span class=\"token punctuation\">.</span><span class=\"token function\">FirstOrDefault</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>UID <span class=\"token operator\">==</span> uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    Application<span class=\"token punctuation\">.</span>Current<span class=\"token punctuation\">.</span>Dispatcher<span class=\"token punctuation\">.</span><span class=\"token function\">Invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Users<span class=\"token punctuation\">.</span><span class=\"token function\">Remove</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token comment\">/* RelayCommend ì¶”ê°€ */</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">event</span> <span class=\"token class-name\">PropertyChangedEventHandler<span class=\"token punctuation\">?</span></span> PropertyChanged<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnPropertyChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">CallerMemberName</span></span><span class=\"token punctuation\">]</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> propertyName <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            PropertyChanged<span class=\"token punctuation\">?.</span><span class=\"token function\">Invoke</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PropertyChangedEventArgs</span><span class=\"token punctuation\">(</span>propertyName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> <span class=\"token function\">GetRoomName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span> usernames<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> users <span class=\"token operator\">=</span> usernames<span class=\"token punctuation\">;</span>\r\n            users<span class=\"token punctuation\">.</span><span class=\"token function\">Sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">return</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"ChatRoom_</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"_\"</span><span class=\"token punctuation\">,</span> users<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>            </code></pre></div>\n<ul>\n<li>ì˜µì €ë²„ë¸”ì»¬ë ‰ì…˜ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬</li>\n</ul>\n<p>Users: í˜„ì¬ ì—°ê²°ëœ ì‚¬ìš©ì ëª©ë¡ì„ ê´€ë¦¬í•˜ëŠ” ObservableCollection<UserModel>.\r\nChats: í˜„ì¬ ì±„íŒ…ë°©ì˜ ë©”ì‹œì§€ ëª©ë¡ì„ ê´€ë¦¬í•˜ëŠ” ObservableCollection<string>.\r\nContacts: ì‚¬ìš©ìì˜ ì—°ë½ì²˜ ëª©ë¡ì„ ê´€ë¦¬í•˜ëŠ” ObservableCollection<ContactModel>.\r\nMessages: ê°œë³„ ë©”ì‹œì§€ ëª¨ë¸ì„ ê´€ë¦¬í•˜ëŠ” ObservableCollection<MessageModel>.</p>\n<ul>\n<li>ëª…ë ¹(Command) ë° ë°ì´í„° ë°”ì¸ë”©</li>\n</ul>\n<p>ë¦´ë ˆì´ì»¤ë§¨ë“œë¥¼ ë§Œë“¤ì–´ì„œ ì ìš©í•˜ëŠ” ë°©ì‹ì„ ì‹œë„í•¨.\r\nConnectToServerCommand: ì„œë²„ì— ì—°ê²°í•˜ëŠ” ëª…ë ¹.\r\nSendMessageCommand: ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ëŠ” ëª…ë ¹.</p>\n<ul>\n<li>ì‚¬ìš©ì ì´ë¦„ ë° ì±„íŒ… ë‚´ìš© ê´€ë¦¬</li>\n</ul>\n<p>Username: ì‚¬ìš©ìì˜ ì´ë¦„ì„ ì €ì¥í•˜ê³  ë³€ê²½ì„ ì•Œë¦¬ëŠ” ì†ì„±.\r\nChat: í˜„ì¬ ì…ë ¥ëœ ì±„íŒ… ë©”ì‹œì§€ë¥¼ ì €ì¥í•˜ê³  ë³€ê²½ì„ ì•Œë¦¬ëŠ” ì†ì„±.</p>\n<h3 id=\"tcp-í´ë¼ì´ì–¸íŠ¸-ë¶€ë¶„-êµ¬í˜„\" style=\"position:relative;\"><a href=\"#tcp-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EB%B6%80%EB%B6%84-%EA%B5%AC%ED%98%84\" aria-label=\"tcp í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ êµ¬í˜„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TCP í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ êµ¬í˜„</h3>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>Sockets</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Threading<span class=\"token punctuation\">.</span>Tasks</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">WpfVanillaChat<span class=\"token punctuation\">.</span>Firebase</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">WpfVanillaChat<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>IO</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">namespace</span> <span class=\"token namespace\">WpfVanillaChat<span class=\"token punctuation\">.</span>Net</span>\r\n<span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Server</span>\r\n    <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\">TcpClient</span> _client<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">PacketReader<span class=\"token punctuation\">?</span></span> PacketReader <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">private</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\">FirebaseHelper</span> _firebaseHelper<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">event</span> <span class=\"token class-name\">Action<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">?</span></span> UserConnectedEvent<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">event</span> <span class=\"token class-name\">Action<span class=\"token punctuation\">?</span></span> MsgReceivedEvent<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">event</span> <span class=\"token class-name\">Action<span class=\"token punctuation\">?</span></span> UserDisconnectedEvent<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> _username <span class=\"token operator\">=</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token function\">Server</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> \r\n        <span class=\"token punctuation\">{</span>\r\n            _client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">TcpClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            _firebaseHelper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">FirebaseHelper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">ConnectToServer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> username<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>_client<span class=\"token punctuation\">.</span>Connected<span class=\"token punctuation\">)</span> \r\n            <span class=\"token punctuation\">{</span>\r\n                _username <span class=\"token operator\">=</span> username<span class=\"token punctuation\">;</span>\r\n                _client<span class=\"token punctuation\">.</span><span class=\"token function\">Connect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7891</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                PacketReader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PacketReader</span><span class=\"token punctuation\">(</span>_client<span class=\"token punctuation\">.</span><span class=\"token function\">GetStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">IsNullOrEmpty</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \r\n                <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> connectPacket <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PacketBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    connectPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteOpCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    connectPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteMessage</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    _client<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span>connectPacket<span class=\"token punctuation\">.</span><span class=\"token function\">GetPacketBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n                <span class=\"token function\">ReadPackets</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>             \r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">ReadPackets</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            Task<span class=\"token punctuation\">.</span><span class=\"token function\">Run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>PacketReader <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\r\n                        <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\r\n\r\n                    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> opcode <span class=\"token operator\">=</span> PacketReader<span class=\"token punctuation\">.</span><span class=\"token function\">ReadByte</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">)</span>\r\n                    <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token keyword\">case</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\r\n                            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> username <span class=\"token operator\">=</span> PacketReader<span class=\"token punctuation\">.</span><span class=\"token function\">ReadMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> uid <span class=\"token operator\">=</span> PacketReader<span class=\"token punctuation\">.</span><span class=\"token function\">ReadMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            UserConnectedEvent<span class=\"token punctuation\">?.</span><span class=\"token function\">Invoke</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">,</span> uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token keyword\">case</span> <span class=\"token number\">5</span><span class=\"token punctuation\">:</span>\r\n                            MsgReceivedEvent<span class=\"token punctuation\">?.</span><span class=\"token function\">Invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token keyword\">case</span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span>\r\n                            UserDisconnectedEvent<span class=\"token punctuation\">?.</span><span class=\"token function\">Invoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\r\n                            Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Unknown opcode received...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task</span> <span class=\"token function\">SendMessageToServer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> chat<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> roomname<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> messagePacket <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PacketBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            messagePacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteOpCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            messagePacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteMessage</span><span class=\"token punctuation\">(</span>chat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            _client<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span>messagePacket<span class=\"token punctuation\">.</span><span class=\"token function\">GetPacketBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">await</span> _firebaseHelper<span class=\"token punctuation\">.</span><span class=\"token function\">SaveMessageAsync</span><span class=\"token punctuation\">(</span>roomname<span class=\"token punctuation\">,</span> _username<span class=\"token punctuation\">,</span> chat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Net.IO í´ë”ì— íŒ¨í‚·ë¹Œë”ì™€ íŒ¨í‚·ë¦¬ë”ë¥¼ êµ¬í˜„í•˜ê³  í˜¸ì¶œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•¨</p>\n<h3 id=\"ì„œë²„-ì½˜ì†”ì•±\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EC%BD%98%EC%86%94%EC%95%B1\" aria-label=\"ì„œë²„ ì½˜ì†”ì•± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„œë²„ ì½˜ì†”ì•±</h3>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Net</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>Sockets</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">VanillaServer<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>IO</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">namespace</span> <span class=\"token namespace\">VanillaServer</span>\r\n<span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Program</span>\r\n    <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>Client<span class=\"token punctuation\">></span></span> _users <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\">TcpListener</span> _listener <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span>IPAddress<span class=\"token punctuation\">.</span><span class=\"token function\">Parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7891</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> args<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            _listener<span class=\"token punctuation\">.</span><span class=\"token function\">Start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Client</span><span class=\"token punctuation\">(</span>_listener<span class=\"token punctuation\">.</span><span class=\"token function\">AcceptTcpClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                _users<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token function\">SendUserList</span><span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token function\">BroadcastConnection</span><span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">SendUserList</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Client</span> client<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> usr <span class=\"token keyword\">in</span> _users<span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> userListPacket <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PacketBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                userListPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteOpCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                userListPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteMessage</span><span class=\"token punctuation\">(</span>usr<span class=\"token punctuation\">.</span>Username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                userListPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteMessage</span><span class=\"token punctuation\">(</span>usr<span class=\"token punctuation\">.</span>UID<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                client<span class=\"token punctuation\">.</span>ClientSocket<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span>userListPacket<span class=\"token punctuation\">.</span><span class=\"token function\">GetPacketBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">BroadcastConnection</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Client</span> newClient<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> client <span class=\"token keyword\">in</span> _users<span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>client <span class=\"token operator\">==</span> newClient<span class=\"token punctuation\">)</span> <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì´ë¯¸ ì‹ ê·œ í´ë¼ì´ì–¸íŠ¸ì—ê²ŒëŠ” ë³´ëƒˆìœ¼ë¯€ë¡œ ìƒëµ</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> broadcastPacket <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PacketBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                broadcastPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteOpCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                broadcastPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteMessage</span><span class=\"token punctuation\">(</span>newClient<span class=\"token punctuation\">.</span>Username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                broadcastPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteMessage</span><span class=\"token punctuation\">(</span>newClient<span class=\"token punctuation\">.</span>UID<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                client<span class=\"token punctuation\">.</span>ClientSocket<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span>broadcastPacket<span class=\"token punctuation\">.</span><span class=\"token function\">GetPacketBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">BroadcastMessage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> message<span class=\"token punctuation\">)</span> \r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> user <span class=\"token keyword\">in</span> _users<span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> msgPacket <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PacketBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                msgPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteOpCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                msgPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteMessage</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                user<span class=\"token punctuation\">.</span>ClientSocket<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span>msgPacket<span class=\"token punctuation\">.</span><span class=\"token function\">GetPacketBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">BroadcastDisconnect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> uid<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> disconnectedUser <span class=\"token operator\">=</span> _users<span class=\"token punctuation\">.</span><span class=\"token function\">FirstOrDefault</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>UID<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>disconnectedUser <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                _users<span class=\"token punctuation\">.</span><span class=\"token function\">Remove</span><span class=\"token punctuation\">(</span>disconnectedUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n                <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> user <span class=\"token keyword\">in</span> _users<span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> broadcastPacket <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PacketBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    broadcastPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteOpCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    broadcastPacket<span class=\"token punctuation\">.</span><span class=\"token function\">WriteMessage</span><span class=\"token punctuation\">(</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    user<span class=\"token punctuation\">.</span>ClientSocket<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">.</span><span class=\"token function\">Send</span><span class=\"token punctuation\">(</span>broadcastPacket<span class=\"token punctuation\">.</span><span class=\"token function\">GetPacketBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n\r\n                <span class=\"token function\">BroadcastMessage</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">$\"[</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">disconnectedUser<span class=\"token punctuation\">.</span>Username</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">] Disconnected!\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>Sockets</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">VanillaServer<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>IO</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">namespace</span> <span class=\"token namespace\">VanillaServer</span>\r\n<span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Client</span>\r\n    <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> Username <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">Guid</span> UID <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">TcpClient</span> ClientSocket <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token class-name\">PacketReader</span> _PacketReader<span class=\"token punctuation\">;</span>\r\n        \r\n        <span class=\"token keyword\">public</span> <span class=\"token function\">Client</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">TcpClient</span> client<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            ClientSocket <span class=\"token operator\">=</span> client<span class=\"token punctuation\">;</span>\r\n            UID <span class=\"token operator\">=</span> Guid<span class=\"token punctuation\">.</span><span class=\"token function\">NewGuid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            _PacketReader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PacketReader</span><span class=\"token punctuation\">(</span>ClientSocket<span class=\"token punctuation\">.</span><span class=\"token function\">GetStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> opcode <span class=\"token operator\">=</span> _PacketReader<span class=\"token punctuation\">.</span><span class=\"token function\">ReadByte</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            Username <span class=\"token operator\">=</span> _PacketReader<span class=\"token punctuation\">.</span><span class=\"token function\">ReadMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">$\"[</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">DateTime<span class=\"token punctuation\">.</span>Now</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">]: Client has Connected With the username: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">Username</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n            Task<span class=\"token punctuation\">.</span><span class=\"token function\">Run</span><span class=\"token punctuation\">(</span>Process<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Process</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">try</span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> opcode <span class=\"token operator\">=</span> _PacketReader<span class=\"token punctuation\">.</span><span class=\"token function\">ReadByte</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">)</span>\r\n                    <span class=\"token punctuation\">{</span>\r\n                        <span class=\"token keyword\">case</span> <span class=\"token number\">5</span><span class=\"token punctuation\">:</span>\r\n                            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> msg <span class=\"token operator\">=</span> _PacketReader<span class=\"token punctuation\">.</span><span class=\"token function\">ReadMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">$\"[</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">DateTime<span class=\"token punctuation\">.</span>Now</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">]: Message received! </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">msg</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            Program<span class=\"token punctuation\">.</span><span class=\"token function\">BroadcastMessage</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">$\"[</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">DateTime<span class=\"token punctuation\">.</span>Now</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">]: [</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">Username</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">]: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">msg</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                        <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\r\n                            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token punctuation\">}</span>\r\n                <span class=\"token punctuation\">}</span>\r\n                <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">$\"[</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">UID</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">]: Disconnected!\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    Program<span class=\"token punctuation\">.</span><span class=\"token function\">BroadcastDisconnect</span><span class=\"token punctuation\">(</span>UID<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    ClientSocket<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n                    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"firebase-ì—°ë™\" style=\"position:relative;\"><a href=\"#firebase-%EC%97%B0%EB%8F%99\" aria-label=\"firebase ì—°ë™ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Firebase ì—°ë™</h3>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">namespace</span> <span class=\"token namespace\">WpfVanillaChat<span class=\"token punctuation\">.</span>Firebase</span>\r\n<span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FirebaseHelper</span>\r\n    <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> FirebaseDatabaseUrl <span class=\"token operator\">=</span> <span class=\"token string\">\"íŒŒì´ì–´ë² ì´ìŠ¤ URL\"</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\">FirebaseClient</span> _firebaseClient<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token function\">FirebaseHelper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            _firebaseClient <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">FirebaseClient</span><span class=\"token punctuation\">(</span>FirebaseDatabaseUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task</span> <span class=\"token function\">SaveMessageAsync</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> room<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> username<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> message<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> chatMessage <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                Username <span class=\"token operator\">=</span> username<span class=\"token punctuation\">,</span>\r\n                Message <span class=\"token operator\">=</span> message<span class=\"token punctuation\">,</span>\r\n                Timestamp <span class=\"token operator\">=</span> DateTime<span class=\"token punctuation\">.</span>UtcNow\r\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n            <span class=\"token keyword\">await</span> _firebaseClient\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">Child</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ChatRooms\"</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">Child</span><span class=\"token punctuation\">(</span>room<span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">Child</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Messages\"</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">PostAsync</span><span class=\"token punctuation\">(</span>chatMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task<span class=\"token punctuation\">&lt;</span>List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token function\">LoadMessagesAsync</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> room<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> messages <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> _firebaseClient\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">Child</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ChatRooms\"</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">Child</span><span class=\"token punctuation\">(</span>room<span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">Child</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Messages\"</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">OrderByKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">OnceAsync</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>Dictionary<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">object</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\r\n            <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span> chatMessages <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> message <span class=\"token keyword\">in</span> messages<span class=\"token punctuation\">)</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> msg <span class=\"token operator\">=</span> message<span class=\"token punctuation\">.</span>Object<span class=\"token punctuation\">;</span>\r\n                chatMessages<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">$\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">msg<span class=\"token punctuation\">[</span><span class=\"token string\">\"Username\"</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">}</span></span><span class=\"token string\">: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token expression language-csharp\">msg<span class=\"token punctuation\">[</span><span class=\"token string\">\"Message\"</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token punctuation\">}</span>\r\n\r\n            <span class=\"token keyword\">return</span> chatMessages<span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë¦¬ì–¼íƒ€ì„ë°ì´í„°ë² ì´ìŠ¤ì— ì±„íŒ…ë¡œê·¸ê°€ ì €ì¥ë˜ê³  ê°™ì€ ìœ ì €ë¼ë¦¬ ì±„íŒ…í•  ë•Œ ì´ì „ë‚´ìš©ì´ í˜¸ì¶œë˜ê²Œë” êµ¬ì„±í•¨\r\nì±„íŒ…ì•±ì— ì°¸ê°€í•˜ëŠ” ìœ ì €ì˜ ì¡°í•©ìœ¼ë¡œ ì±„íŒ…ë°©ì´ë¦„ì´ ì„¤ì •ë˜ê³  ê°™ì€ ì‚¬ëŒë¼ë¦¬ êµ¬ì„±ëœ ë°©ì¼ ê²½ìš°ë§Œ ì±„íŒ…ì´ í˜¸ì¶œë¨</p>\n<p>ì „ì²´ ì†ŒìŠ¤ì½”ë“œëŠ” ê¹ƒí—ˆë¸Œì— ì •ë¦¬ë˜ì–´ìˆìŒ\r\n<a href=\"https://github.com/woogooree/WpfChat/tree/main\">https://github.com/woogooree/WpfChat/tree/main</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%BD%94%EB%93%9C-%EC%84%A4%EB%AA%85\">ì½”ë“œ ì„¤ëª…</a></p>\n<ul>\n<li><a href=\"#view-mainwindowxaml-%EC%BD%94%EB%93%9C\">View (MainWindow.xaml) ì½”ë“œ</a></li>\n<li><a href=\"#viewmodel-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\">ViewModel êµ¬ì„± ìš”ì†Œ</a></li>\n<li><a href=\"#tcp-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EB%B6%80%EB%B6%84-%EA%B5%AC%ED%98%84\">TCP í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ êµ¬í˜„</a></li>\n<li><a href=\"#%EC%84%9C%EB%B2%84-%EC%BD%98%EC%86%94%EC%95%B1\">ì„œë²„ ì½˜ì†”ì•±</a></li>\n<li><a href=\"#firebase-%EC%97%B0%EB%8F%99\">Firebase ì—°ë™</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 26, 2024","title":"WPF TCP ì±„íŒ… í”„ë¡œì íŠ¸ ì†ŒìŠ¤ì½”ë“œ","categories":"WPF í”„ë¡œì íŠ¸","author":"ì‹¬ìš°ì§„","emoji":"ğŸ’»"},"fields":{"slug":"/ProjectT_02/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://woogooree.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/RS485_01/","nextSlug":"/ProjectT_02/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}